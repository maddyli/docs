---
title: "Chaining Searches"
description: "Chaining search parameters allows you to filter your searches based on the parameters of another resource which is related to the target resource through one or more references. This can reduce what might otherwise be a series of searches into just a single action."
---

Chained searches are similar to using [`_include` or `_revinclude` parameters](/docs/search/includes), but it will not return the referenced resources, only filter based on their parameters. The primary benefit of this is it allows for easy pagination since you know you will only receive results of one resource type. See the [paginated search docs](/docs/search/paginated-search) for more details.

<Note>
  Chained search is only available when using the FHIR Rest API as described here. If you are using GraphQL, chained search functionality is not supported.
</Note>

## Forward Chained Search[​](#forward-chained-search "Direct link to Forward Chained Search")

[Search parameters](/docs/search/basic-search) with the `reference` type can be chained together to search on the elements of the referenced resource.

In the below example we search for all [`Observation`](/docs/api/fhir/resources/observation) resources that are linked to a [`Patient`](/docs/api/fhir/resources/patient) with the name of 'homer' using the syntax `patient.name=homer`. The way to read this is "search for all [`Observation`](/docs/api/fhir/resources/observation) resources that reference a [`Patient`](/docs/api/fhir/resources/patient) (using the `patient` search parameter) and has a name of 'homer'.

<Accordion title="Example: Search for any  about a  with the name 'homer'">
  [`Observations`](/docs/api/fhir/resources/observation)[`Patient`](/docs/api/fhir/resources/patient)

  * Typescript
  * CLI
  * cURL

  ```
  await medplum.searchResources('Observation', {  'patient.name': 'homer',});
  ```

  ```
  medplum get 'Observation?patient.name=homer'
  ```

  ```
  curl 'https://api.medplum.com/fhir/R4/Observation?patient.name=homer' \  -H 'authorization: Bearer $ACCESS_TOKEN' \  -H 'content-type: application/fhir+json' \
  ```
</Accordion>

The target resource for every link in the chain must be unambiguous. If a search parameter can reference multiple resource types, you must specify the resource type in your search.

Just like the example above, the below example searches for all [`Observation`](/docs/api/fhir/resources/observation) resources linked to a [`Patient`](/docs/api/fhir/resources/patient) with a name of 'homer', this time using the syntax `subject:Patient.name=homer`. The way to read this is "search for all [`Observation`](/docs/api/fhir/resources/observation) resources whose `subject` parameter is of type [`Patient`](/docs/api/fhir/resources/patient) and has a name 'homer'".

In the above example, the `patient` parameter can only search for [`Patient`](/docs/api/fhir/resources/patient) resources, so it was not necessary to explicitly state which resource type we were searching for.

The general syntax for a forward chained search is `<reference searchParam>:<referenced resource type>.<referenced resource searchParam>=<value>`.

<Accordion title="Example: Search for any  about a subject that is a  with the name 'homer'">
  [`Observations`](/docs/api/fhir/resources/observation)[`Patient`](/docs/api/fhir/resources/patient)

  * Typescript
  * CLI
  * cURL

  ```
  await medplum.searchResources('Observation', {  'subject:Patient.name': 'homer',});
  ```

  ```
  medplum get 'Observation?subject:Patient.name=homer'
  ```

  ```
  curl 'https://api.medplum.com/fhir/R4/Observation?subject:Patient.name=homer' \  -H 'authorization: Bearer $ACCESS_TOKEN' \  -H 'content-type: application/fhir+json' \
  ```
</Accordion>

You can include more than one link in your chained search. In the below example, we search for [`Observation`](/docs/api/fhir/resources/observation) resources that are linked to an [`Encounter`](/docs/api/fhir/resources/encounter) done by a service-provider with the name of 'Kaiser'.

<Accordion title="Example: A chained search that chains multiple parameters">
  * Typescript
  * CLI
  * cURL

  ```
  await medplum.searchResources('Observation', {  'encounter:Encounter.service-provider.name': 'Kaiser',});
  ```

  ```
  medplum get 'Observation?encounter:Encounter.service-provider.name=Kaiser'
  ```

  ```
  curl 'https://api.medplum.com/fhir/R4/Observation?encounter:Encounter.service-provider.name=Kaiser' \  -H 'authorization: Bearer $ACCESS_TOKEN' \  -H 'content-type: application/fhir+json' \
  ```
</Accordion>

## Reverse Chained Search[​](#reverse-chained-search "Direct link to Reverse Chained Search")

Chained references can also be constructed in reverse, filtering on other resources that reference your target search resource. This is done using the `_has` parameter, which has a special syntax: `_has:<next resource type>:<link parameter>:<next parameter>`.

For example, `Patient?_has:Observation:subject:status=preliminary` would select [`Patient`](/docs/api/fhir/resources/patient) resources that have an [`Observation`](/docs/api/fhir/resources/observation) pointing to them as the `subject` and are also in preliminary status.

<Check>
  For reverse chaining, the referenced type of the link parameter is never ambiguous: the previous resource type in the chain is used.
</Check>

As another example, you may want to search for any [`Patient`](/docs/api/fhir/resources/patient) resources with a heart rate above 150 ([Loinc Code 8867-4](https://loinc.org/8867-4)) [`Observation`](/docs/api/fhir/resources/observation) made about them.

<Accordion title="Example: Search for any  that have had an observed heart rate above 150">
  [`Patients`](/docs/api/fhir/resources/patient)

  * Typescript
  * CLI
  * cURL

  ```
  await medplum.searchResources('Patient', {  '_has:Observation:subject:code': '8867-4',});
  ```

  ```
  medplum get 'Patient?_has:Observation:subject:code=8867-4'
  ```

  ```
  curl 'https://api.medplum.com/fhir/R4/Patient?_has:Observation:subject:code=8867-4' \  -H 'authorization: Bearer $ACCESS_TOKEN' \  -H 'content-type: application/fhir+json' \
  ```
</Accordion>

In the above example `_has:Observation` filters for [`Patient`](/docs/api/fhir/resources/patient) resources that have an [`Observation`](/docs/api/fhir/resources/observation). The `:subject` filters for [`Observation`](/docs/api/fhir/resources/observation) resources that reference a [`Patient`](/docs/api/fhir/resources/patient) in the subject field. This is based on our initial search for a [`Patient`](/docs/api/fhir/resources/patient). Finally, `:code=8867-4` filters for that specific code on the [`Observation`](/docs/api/fhir/resources/observation).

### Nesting reverse chained searches[​](#nesting-reverse-chained-searches "Direct link to Nesting reverse chained searches")

It is also possible to nest the `_has` parameter.

In this example we search for a [`Specimen`](/docs/api/fhir/resources/specimen) that is referenced by a [`DiagnosticReport`](/docs/api/fhir/resources/diagnosticreport) that originated from a [`Procedure`](/docs/api/fhir/resources/procedure) on the date of `2023-11-12`.

<Accordion title="Example: Nested reversed chained search">
  * Typescript
  * CLI
  * cURL

  ```
  await medplum.searchResources('Specimen', {  '_has:DiagnosticReport:specimen:_has:Procedure:reason-reference:date': '2023-11-12',});
  ```

  ```
  medplum get 'Specimen?_has:DiagnosticReport:specimen:_has:Procedure:reason-reference:date=2023-11-12'
  ```

  ```
  curl 'https://api.medplum.com/fhir/R4/Specimen?_has:DiagnosticReport:specimen:_has:Procedure:reason-reference:date=2023-11-12' \  -H 'authorization: Bearer $ACCESS_TOKEN' \  -H 'content-type: application/fhir+json' \
  ```
</Accordion>

### Combining forward and reverse chained search[​](#combining-forward-and-reverse-chained-search "Direct link to Combining forward and reverse chained search")

You can mix and match chained parameters by combining a forward chained search with the `_has` parameter.

In the below example, we search for a [`Patient`](/docs/api/fhir/resources/patient) with an [`Observation`](/docs/api/fhir/resources/observation) that was performed by a [`CareTeam`](/docs/api/fhir/resources/careteam) that has a member with the name of 'bob'.

<Accordion title="Example: Combining reverse and forward chained search">
  * Typescript
  * CLI
  * cURL

  ```
  await medplum.searchResources('Patient', {  '_has:Observation:subject:performer:CareTeam.participant:Practitioner.name': 'bob',});
  ```

  ```
  medplum get 'Patient?_has:Observation:subject:performer:CareTeam.participant:Practitioner.name=bob'
  ```

  ```
  curl 'https://api.medplum.com/fhir/R4/Patient?_has:Observation:subject:performer:CareTeam.participant:Practitioner.name=bob' \  -H 'authorization: Bearer $ACCESS_TOKEN' \  -H 'content-type: application/fhir+json' \
  ```
</Accordion>

[Edit this page](https://github.com/medplum/medplum/blob/main/packages/docs/docs/search/chained-search.md)

Last updated on **Feb 20, 2026**
